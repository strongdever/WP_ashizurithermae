var sowb=window.sowb||{};jQuery((function(t){sowb.setupTabs=function(){t(".sow-tabs").each((function(a,o){var e=t(o),s=e.closest(".so-widget-sow-tabs");if(s.data("initialized"))return t(this);var i,n=!!s.data("anchor-id")&&s.data("anchor-id"),r=e.find("> .sow-tabs-panel-container"),d=e.find("> .sow-tabs-tab-container > .sow-tabs-tab"),c=e.find(".sow-tabs-tab-selected").index(),w=r.find("> .sow-tabs-panel");w.not(":eq("+c+")").hide();var l=function(a){var o=sowTabs.scrollto_offset?sowTabs.scrollto_offset:90,e=s.offset().top-o;a?t("body,html").animate({scrollTop:e},200):window.scrollTo(0,e)},h=function(t){return sowTabs.scrollto_after_change&&(t.offset().top<window.scrollY||t.offset().top+t.height()>window.scrollY)},f=function(a,o){var e=t(a);if(e.is(".sow-tabs-tab-selected"))return h(e)&&l(!0),!0;var r=e.index();if(r>-1){i&&i.finish();var c=d.filter(".sow-tabs-tab-selected");c.removeClass("sow-tabs-tab-selected");var f=c.index(),b=w.eq(f).children(),u=w.eq(r).children();if(c.attr("tabindex",-1),c.attr("aria-selected",!1),b.attr("tabindex",-1),e.attr("tabindex",0),e.attr("aria-selected",!0),u.attr("tabindex",0),b.attr("aria-hidden","true"),i=w.eq(f).fadeOut("fast",(function(){t(this).trigger("hide"),u.removeAttr("aria-hidden"),w.eq(r).fadeIn({duration:"fast",start:function(){(h(e)||sowTabs.always_scroll)&&t(window).trigger("resize"),t(sowb).trigger("setup_widgets")},complete:function(){t(this).trigger("show"),(o||h(e))&&l(!0)}})})),e.addClass("sow-tabs-tab-selected"),!o&&(n||s.data("use-anchor-tags")))if(n){var g=e.data("anchor");1!=s.data("anchor-id")&&(g=s.data("anchor-id")+"-"+g),window.location.hash=g}else window.location.hash=e.data("anchor")}};if(d.on("click",(function(){f(this)})),d.on("keyup",(function(a){var o,e=t(this);37!==a.keyCode&&39!==a.keyCode||(37===a.keyCode&&(o=e.prev().get(0)?e.prev():e.siblings().last()),39===a.keyCode&&(o=e.next().get(0)?e.next():e.siblings().first()),e!==o&&(o.trigger("focus"),f(o.get(0))))})),s.data("anchor-id")||s.data("use-anchor-tags")){var b=function(){window.location.hash&&window.location.hash.substring(1).split(",").forEach((function(a){var o=d.filter((function(o,e){var i=t(e).data("anchor");return s.data("anchor-id")&&1!=s.data("anchor-id")&&(i=s.data("anchor-id")+"-"+i),decodeURI(a)===decodeURI(i)}));o.length>0&&f(o,!0)}))};t(window).on("hashchange",b),window.location.hash&&b()}s.data("initialized",!0)}))},sowb.setupTabs(),t(sowb).on("setup_widgets",sowb.setupTabs)})),window.sowb=sowb;